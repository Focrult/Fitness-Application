<form id="fitness-form">
  {{#each questions}}
  {{#if (or (eq name "gender") (eq name "height") (eq name "weight"))}}
  <div class="form-group">
    <label for="{{name}}">{{question}}</label>
    {{#if (eq type "radio")}}
    {{#each options}}
    <div class="form-check">
      <input class="form-check-input" type="radio" name="{{name}}" id="{{value}}" value="{{value}}"{{#if required}} required{{/if}}>
      <label class="form-check-label" for="{{value}}">{{label}}</label>
    </div>
    {{/each}}
    {{else}}
    <input class="form-control" type="{{type}}" id="{{name}}" name="{{name}}" placeholder="{{placeholder}}"{{#if required}} required{{/if}}>
    {{/if}}
  </div>
  {{/if}}
  {{/each}}
  <button id="submit-btn" type="submit" class="btn btn-primary">Submit</button>
</form>

<script src="./js/question.js"></script>

<script>
  const form = document.getElementById("fitness-form");
  const submitBtn = document.getElementById("submit-btn");

  form.addEventListener("submit", (e) => {
    e.preventDefault(); // prevent the form from submitting normally

    // create an object to store the form data
    const formData = {};
    const elements = e.target.elements;
    for (let i = 0; i < elements.length; i++) {
      const element = elements[i];
      if (element.type !== "submit") {
        formData[element.name] = element.value;
      }
    }

    // save the form data in local storage
    localStorage.setItem("formData", JSON.stringify(formData));

    // redirect to the workout page
    window.location.href = "./views/partials/workout.handlebars";
  });
</script>
